<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Untitled Scifi Western Pre-Adventure</title>
    <style>
        /* Center the canvas */
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        canvas {
            border: 1px solid #000;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
    <script>
        let bg; // Variable to store the background image

        // Define polygons (rectangular areas) for interactive elements
        let character1Area = {x: 198, y: 543, w: 240, h: 320};
        let character2Area = {x: 570, y: 425, w: 263, h: 448};
        let character3Area = {x: 949, y: 417, w: 141, h: 298};
        let character4Area = {x: 1106, y: 544, w: 125, h: 171};
        let character5Area = {x: 1253, y: 515, w: 164, h: 342};
        let pathArea = {x: 635, y: 270, w: 220, h: 96};
        let storefront1Area = {x: 445, y: 425, w: 130, h: 165}; // Corrected curly braces
        let storefront2Area = {x: 1000, y: 95, w: 100, h: 250}; // Corrected curly braces
        let storefront3Area = {x: 500, y: 315, w: 145, h: 60}; // Corrected curly braces

        function preload() {
            bg = loadImage('background.png'); // Load the background image
        }

        function setup() {
            createCanvas(1500, 900);
        }

        function draw() {
            background(bg); // Display the background image

            // Display mouse coordinates at the top left corner
            fill(255); // White color for text
            textSize(16);
            text("X: " + mouseX + " Y: " + mouseY, 10, 20); // Display coordinates for testing

            // Draw transparent rectangles for interactive areas
            drawRectangle(character1Area, [255, 255, 255, 100]);
            drawRectangle(character2Area, [255, 255, 255, 100]);
            drawRectangle(character3Area, [255, 255, 255, 100]);
            drawRectangle(character4Area, [255, 255, 255, 100]);
            drawRectangle(character5Area, [255, 255, 255, 100]);
            drawRectangle(pathArea, [255, 255, 255, 100]);
            drawRectangle(storefront1Area, [255, 255, 255, 100]);
            drawRectangle(storefront2Area, [255, 255, 255, 100]);
            drawRectangle(storefront3Area, [255, 255, 255, 100]);

            // Highlight rectangles on hover
            if (isMouseOverRectangle(character1Area)) {
                drawRectangle(character1Area, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(character2Area)) {
                drawRectangle(character2Area, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(character3Area)) {
                drawRectangle(character3Area, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(character4Area)) {
                drawRectangle(character4Area, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(character5Area)) {
                drawRectangle(character5Area, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(pathArea)) {
                drawRectangle(pathArea, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(storefront1Area)) {
                drawRectangle(storefront1Area, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(storefront2Area)) {
                drawRectangle(storefront2Area, [255, 255, 255, 200]);
            }
            if (isMouseOverRectangle(storefront3Area)) {
                drawRectangle(storefront3Area, [255, 255, 255, 200]);
            }
        }

        // Helper function to draw a rectangle with a specified color
        function drawRectangle(area, color) {
            fill(...color);
            noStroke();
            rect(area.x, area.y, area.w, area.h);
        }

        // Function to check if the mouse is over a rectangle
        function isMouseOverRectangle(area) {
            return mouseX > area.x && mouseX < area.x + area.w &&
                   mouseY > area.y && mouseY < area.y + area.h;
        }

        // Optional mousePressed function for testing interactions
        function mousePressed() {
            if (isMouseOverRectangle(character1Area)) {
                console.log("Character 1 area clicked");
            }
            if (isMouseOverRectangle(character2Area)) {
                console.log("Character 2 area clicked");
            }
            if (isMouseOverRectangle(character3Area)) {
                console.log("Character 3 area clicked");
            }
            if (isMouseOverRectangle(character4Area)) {
                console.log("Character 4 area clicked");
            }
            if (isMouseOverRectangle(character5Area)) {
                console.log("Character 5 area clicked");
            }
            if (isMouseOverRectangle(pathArea)) {
                console.log("Path area clicked");
            }
            if (isMouseOverRectangle(storefront1Area)) {
                console.log("Storefront 1 area clicked");
            }
            if (isMouseOverRectangle(storefront2Area)) {
                console.log("Storefront 2 area clicked");
            }
            if (isMouseOverRectangle(storefront3Area)) {
                console.log("Storefront 3 area clicked");
            }
        }
    </script>
</body>
</html>
